<!DOCTYPE html>
<html>
  <head>
    <title>Jaib - Saved Articles</title>
    <!-- Bootstrap Icons CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        margin: 0;
        padding: 0; /* Remove body padding as we will add padding to content */
        background-color: #f0f0f0; /* Light gray background */
        line-height: 1.6; /* Improve default line height */
        color: #333; /* Default text color */
      }
      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 20px;
      }
      #articles-grid {
        display: grid;
        /* Auto-fit items with a fixed width around 295px (image width) */
        grid-template-columns: repeat(
          auto-fit,
          minmax(295px, 295px)
        ); /* Fixed width */
        gap: 20px; /* Space between grid items */
        justify-content: center; /* Center grid if items don't fill width */
        padding: 0 20px; /* Add horizontal padding */
      }

      .article-item {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: transform 0.2s ease-in-out;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        position: relative; /* Needed for absolute positioning of delete button */
        height: 380px; /* Give cards a fixed height to make them uniform (adjust as needed) */
        width: 295px; /* Explicitly set item width */
      }
      .article-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Slightly more pronounced shadow on hover */
      }

      .article-image-container {
        width: 100%; /* Takes full width of the 295px item */
        height: 166px; /* Fixed height for image container */
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #eee;
      }

      .article-image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Cover the container while maintaining aspect ratio */
        display: block;
        /* max-width and max-height are not needed here if container size is fixed */
      }

      .article-content-area {
        padding: 15px; /* Padding inside the text content area */
        flex-grow: 1; /* Allow content area to take available space */
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* Push footer to the bottom */
      }

      .article-item h2 {
        margin-top: 0;
        font-size: 1.1em;
        color: #333;
        margin-bottom: 5px;
        line-height: 1.3;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
      }
      .article-item p {
        font-size: 0.9em;
        color: #666;
        margin-bottom: 10px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
      .article-item-footer {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: auto;
        padding-top: 10px;
        border-top: 1px solid #eee;
        font-size: 0.8em;
        color: #888;
      }

      .article-item .byline {
        color: #888;
      }

      .article-item .source-info {
        color: #888;
        font-size: 0.9em;
      }

      .delete-button {
        background-color: #f44336;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 0.8em;
        position: absolute;
        bottom: 10px;
        right: 10px;
        z-index: 5;
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
      }

      .article-item:hover .delete-button {
        opacity: 1;
      }

      .delete-button:hover {
        background-color: #d32f2f;
      }

      #article-view {
        display: none;
        background-color: #fff;
        border-radius: 8px; /* Keep some rounding for the view itself */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Keep a subtle shadow */
        max-width: 900px; /* Increase max width slightly for content */
        margin: 20px auto; /* Center the view on the page */
        padding: 0; /* Remove padding here, handled in content area */
        line-height: 1.7;
        font-size: 1.1em;
      }

      /* NEW sticky header styles */
      .article-view-sticky-header {
        position: sticky;
        top: 0;
        background-color: #fff; /* White background for header */
        padding: 15px 20px;
        border-bottom: 1px solid #eee;
        display: flex;
        align-items: center;
        justify-content: space-between;
        z-index: 10; /* Ensure header stays on top */
      }

      .header-left,
      .header-center,
      .header-right {
        display: flex;
        align-items: center;
        gap: 15px; /* Space between icons/elements */
      }

      .header-center {
        flex-grow: 1; /* Allow center to take space */
        display: flex;
        flex-direction: column; /* Stack elements vertically */
        align-items: center; /* Center text block */
        text-align: center;
        padding: 0 20px; /* Add horizontal padding */
      }

      .header-icon {
        font-size: 1.4em; /* Adjust size for Bootstrap Icons */
        color: #555; /* Default icon color */
        transition: color 0.2s ease-in-out;
      }

      .header-icon:hover {
        color: #333; /* Hover color */
      }

      .delete-icon:hover {
        color: #f44336; /* Red for delete on hover */
      }

      /* Styles for metadata within the header center */
      .header-title {
        font-size: 1.6em; /* Larger title font size */
        font-weight: bold;
        color: #333;
        margin: 0 0 5px 0; /* Margin below title */
        padding: 0;
        line-height: 1.3;
      }

      .header-metadata {
        font-size: 0.9em;
        color: #666;
        margin: 0 0 10px 0; /* Margin below metadata line */
        padding: 0;
      }

      .header-url a {
        font-size: 0.9em;
        color: #007bff; /* Blue for links */
        text-decoration: none;
        display: flex; /* Align icon and text */
        align-items: center;
        gap: 5px; /* Space between text and icon */
      }
      .header-url a:hover {
        text-decoration: underline;
      }
      .header-url .bi-box-arrow-up-right {
        font-size: 0.9em; /* Smaller size for link icon */
        color: #007bff; /* Match link color */
      }

      .aA-icon {
        font-size: 1.4em; /* Larger aA icon */
        font-weight: bold;
        color: #555;
        cursor: pointer;
      }
      .aA-dropdown-arrow {
        font-size: 0.8em; /* Smaller size for arrow */
        color: #555; /* Match aA icon color */
      }

      .article-view-main-content {
        padding: 20px; /* Padding inside the content area */
        max-width: 700px; /* Limit content width for readability */
        margin: 0 auto; /* Center the content block */
      }

      /* Styling for content extracted by Readability */
      #article-view .content h1,
      #article-view .content h2,
      #article-view .content h3,
      #article-view .content h4,
      #article-view .content h5,
      #article-view .content h6 {
        color: #333;
        margin-top: 1.5em;
        margin-bottom: 0.5em;
        line-height: 1.3;
      }
      #article-view .content h1 {
        font-size: 1.8em;
      }
      #article-view .content h2 {
        font-size: 1.6em;
      }
      #article-view .content h3 {
        font-size: 1.4em;
      }
      #article-view .content h4 {
        font-size: 1.2em;
      }
      #article-view .content p {
        margin-bottom: 1em;
      }
      #article-view .content img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 1em auto;
      }
      #article-view .content figcaption {
        font-size: 0.9em;
        text-align: center;
        color: #888;
        margin-top: 0.5em;
        margin-bottom: 1em;
      }
      #article-view .content blockquote {
        border-left: 4px solid #ff9800; /* Keep orange border */
        padding-left: 1em;
        margin-left: 0;
        font-style: italic;
        color: #555;
      }
      #article-view .content ul,
      #article-view .content ol {
        margin-bottom: 1em;
        padding-left: 1.5em;
      }
      #article-view .content li {
        margin-bottom: 0.5em;
      }

      /* Hide the old back button */
      #article-view > button#back-to-grid {
        display: none;
      }

      /* Adjust body padding when article view is shown to prevent content jump */
      body.article-view-active {
        padding-top: 60px; /* Adjust based on header height */
      }
    </style>
  </head>
  <body>
    <h1>My Saved Articles</h1>

    <div id="articles-grid">
      <!-- Article items will be loaded here by articles.js -->
      Loading articles...
    </div>

    <div id="article-view">
      <!-- NEW: Sticky Header Toolbar -->
      <div class="article-view-sticky-header">
        <div class="header-left">
          <!-- Back Button (Icon) -->
          <i id="back-to-grid-icon" class="header-icon bi bi-arrow-left"></i>
        </div>
        <div class="header-center">
          <!-- Title, Byline, Source, Reading Time, View Original Link go here - populated by JS -->
          <div class="header-title"></div>
          <div class="header-metadata"></div>
          <div class="header-url"></div>
        </div>
        <div class="header-right">
          <!-- Highlighter Icon (non-functional) -->
          <i class="header-icon bi bi-highlighter"></i>
          <!-- Trash Can Icon (functional delete) -->
          <i
            id="delete-article-icon"
            class="header-icon delete-icon bi bi-trash"
          ></i>
          <!-- Share Icon (non-functional) -->
          <i class="header-icon bi bi-share"></i>
          <!-- aA Icon (non-functional) -->
          <div class="aA-icon">aA</div>
          <!-- Dropdown Arrow (non-functional) -->
          <i class="aA-dropdown-arrow bi bi-chevron-down"></i>
        </div>
      </div>

      <!-- Main Content Area -->
      <div class="article-view-main-content">
        <div id="article-view-content" class="content"></div>
      </div>
      <!-- Hide the old back button -->
      <!-- <button id="back-to-grid">Back to All Articles</button> -- Removed from here -->
    </div>

    <script src="articles.js"></script>
  </body>
</html>

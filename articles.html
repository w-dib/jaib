<!DOCTYPE html>
<html>
  <head>
    <title>Jaib - Saved Articles</title>
    <!-- Bootstrap Icons CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        margin: 0;
        padding: 0; /* Remove body padding as we will add padding to content */
        background-color: #ffffff; /* Changed to white background */
        line-height: 1.6; /* Improve default line height */
        color: #333; /* Default text color */
      }
      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 20px;
      }
      #articles-grid {
        display: grid;
        /* Auto-fit items with a fixed width around 295px (image width) */
        grid-template-columns: repeat(
          auto-fit,
          minmax(295px, 295px)
        ); /* Fixed width */
        gap: 20px; /* Space between grid items */
        justify-content: center; /* Center grid if items don't fill width */
        padding: 0 20px; /* Add horizontal padding */
        padding-top: 20px;
      }

      .article-item {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: transform 0.2s ease-in-out;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        position: relative; /* Needed for absolute positioning of delete button */
        height: 380px; /* Give cards a fixed height to make them uniform (adjust as needed) */
        width: 295px; /* Explicitly set item width */
      }
      .article-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Slightly more pronounced shadow on hover */
      }

      .article-image-container {
        width: 100%; /* Takes full width of the 295px item */
        height: 166px; /* Fixed height for image container */
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #eee;
      }

      .article-image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Cover the container while maintaining aspect ratio */
        display: block;
        /* max-width and max-height are not needed here if container size is fixed */
      }

      .article-content-area {
        padding: 15px; /* Padding inside the text content area */
        flex-grow: 1; /* Allow content area to take available space */
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* Push footer to the bottom */
      }

      .article-item h2 {
        margin-top: 0;
        font-size: 1.1em;
        color: #333;
        margin-bottom: 5px;
        line-height: 1.3;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
      }
      .article-item p {
        font-size: 0.9em;
        color: #666;
        margin-bottom: 10px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
      .article-item-footer {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: auto;
        padding-top: 10px;
        border-top: 1px solid #eee;
        font-size: 0.8em;
        color: #888;
      }

      .article-item .byline {
        color: #888;
      }

      .article-item .source-info {
        color: #888;
        font-size: 0.9em;
      }

      .delete-button {
        background-color: #f44336;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 0.8em;
        position: absolute;
        bottom: 10px;
        right: 10px;
        z-index: 5;
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
      }

      .article-item:hover .delete-button {
        opacity: 1;
      }

      .delete-button:hover {
        background-color: #d32f2f;
      }

      #article-view {
        display: none;
        background-color: #fff;
        border-radius: 0; /* Remove border radius for full-width look */
        box-shadow: none; /* Remove shadow for cleaner look */
        max-width: 100%; /* Full width */
        margin: 0; /* Remove margin */
        padding: 0;
        line-height: 1.8; /* Increased line height */
        font-size: 1.4em; /* Increased font size */
      }

      /* Updated sticky header styles */
      .article-view-sticky-header {
        position: absolute; /* Change to absolute initially */
        top: 0;
        left: 0;
        right: 0;
        background-color: #fff;
        padding: 15px 20px; /* Adjust padding as needed */
        border-bottom: 1px solid #eee;
        display: flex;
        align-items: center;
        justify-content: space-between;
        z-index: 1000;
        height: 60px; /* Ensure consistent height */
        box-sizing: border-box; /* Include padding and border in element's total width and height */
      }

      .article-view-sticky-header.is-sticky {
        position: fixed; /* Fixed when sticky */
        /* top, left, right already defined above */
        border-bottom: 1px solid #ccc; /* Slightly darker border when sticky */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Add subtle shadow when sticky */
      }

      .header-left,
      .header-right {
        display: flex;
        align-items: center;
        flex-shrink: 0; /* Prevent shrinking */
      }

      .header-center {
        display: flex;
        align-items: center;
        gap: 20px; /* Space between icons */
        flex-grow: 1; /* Allow center to take space, pushing left/right out */
        justify-content: center; /* Center icons within the available space */
      }

      .header-icon {
        font-size: 1.5em; /* Slightly larger icons */
        color: #555;
        transition: color 0.2s ease-in-out;
        cursor: pointer;
      }

      .header-icon:hover {
        color: #000; /* Darken on hover */
      }

      .delete-icon:hover {
        color: #d32f2f; /* Darker red on hover */
      }

      .star-icon {
        color: #555;
      }

      .star-icon.active {
        color: #ffc107; /* Amber/Gold color for active star */
      }

      /* Article metadata styles - moved outside of sticky header */
      .article-metadata {
        padding: 80px 20px 20px 20px; /* Add top padding to account for non-sticky header height + some space*/
        text-align: center; /* Center text content */
        background-color: #fff;
        max-width: 800px; /* Align width with main content */
        margin: 0 auto; /* Center the block */
      }

      .header-title {
        font-size: 2.2em; /* Larger title */
        font-weight: 700; /* Bold */
        color: #333;
        margin: 0 0 15px 0; /* More space below title */
        line-height: 1.2;
        word-break: break-word; /* Prevent long words from overflowing */
      }

      .header-metadata {
        font-size: 1em; /* Consistent size */
        color: #666;
        margin: 0 0 15px 0; /* More space below metadata */
      }

      .header-url {
        text-align: center; /* Center the link within the div */
      }

      .header-url a {
        font-size: 0.9em;
        color: #007bff;
        text-decoration: none;
        display: inline-flex; /* Use inline-flex for centering link */
        align-items: center;
        gap: 5px;
      }

      .header-url a:hover {
        text-decoration: underline;
      }

      .article-view-main-content {
        /* padding managed by JS when sticky */
        max-width: 800px; /* Increased max width to 800px */
        margin: 0 auto; /* Center the main content block */
        font-size: 1.1em; /* Slightly adjusted body font size */
        line-height: 1.7; /* Slightly adjusted line height for readability */
        display: block; /* Ensure it's a block element */
        padding: 20px; /* Add default padding */
      }

      /* Styling for content extracted by Readability */
      #article-view-main-content img {
        max-width: 100%; /* Ensure images don't exceed container width */
        height: auto; /* Maintain aspect ratio */
        display: block;
        margin: 1.5em auto; /* Increased margin around images */
        box-sizing: border-box; /* Include padding and border in the element's total width and height */
      }

      #article-view-main-content .content h1,
      #article-view-main-content .content h2,
      #article-view-main-content .content h3,
      #article-view-main-content .content h4,
      #article-view-main-content .content h5,
      #article-view-main-content .content h6 {
        color: #333;
        margin-top: 1.8em; /* Increased top margin */
        margin-bottom: 0.6em; /* Slightly increased bottom margin */
        line-height: 1.4; /* Adjusted line height */
        word-break: break-word; /* Prevent long words from overflowing */
      }

      #article-view-main-content .content h1 {
        font-size: 1.8em; /* Adjusted relative to new base */
      }
      #article-view-main-content .content h2 {
        font-size: 1.5em; /* Adjusted relative to new base */
      }
      #article-view-main-content .content h3 {
        font-size: 1.3em; /* Adjusted relative to new base */
      }
      #article-view-main-content .content h4 {
        font-size: 1.1em; /* Adjusted relative to new base */
      }

      #article-view-main-content .content p {
        margin-bottom: 1.2em; /* Increased bottom margin for paragraphs */
      }
      #article-view-main-content .content figcaption {
        font-size: 0.9em;
        text-align: center;
        color: #888;
        margin-top: 0.5em;
        margin-bottom: 1.5em; /* Increased bottom margin */
      }
      #article-view-main-content .content blockquote {
        border-left: 4px solid #ff9800; /* Keep orange border */
        padding: 1.2em; /* Increased padding */
        margin: 1.5em 0; /* Added vertical margins */
        font-style: italic;
        color: #555;
      }
      #article-view-main-content .content ul,
      #article-view-main-content .content ol {
        margin-bottom: 1.2em; /* Increased bottom margin */
        padding-left: 2em; /* Increased padding */
      }
      #article-view-main-content .content li {
        margin-bottom: 0.6em; /* Increased margin between list items */
      }

      /* Hide the old back button */
      #article-view > button#back-to-grid {
        display: none;
      }

      /* Adjust body padding when article view is shown to prevent content jump */
      /* This rule might not be needed anymore if padding is handled by JS on main-content */
      /* Let's keep it commented out for now */
      /*
      body.article-view-active {
        padding-top: 60px;
      }
      */

      /* Add cursor pointer to all interactive elements */
      .header-icon,
      .aA-icon,
      .header-url a,
      .back-button,
      .delete-icon {
        cursor: pointer;
      }

      /* CSS for the sticky header when active */
      .article-view-sticky-header.is-sticky {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        width: 100%; /* Ensure it spans full width when fixed */
        /* Other styles like background-color, padding, border-bottom are already on .article-view-sticky-header */
      }

      /* Ensure metadata is not hidden by sticky header */
      /* No specific rule needed here, as the header is taken out of flow
         and padding on content pushes it down. Just ensure no negative margins
         or absolute positioning on metadata itself. */
    </style>
  </head>
  <body>
    <div id="articles-grid">
      <!-- Article items will be loaded here by articles.js -->
      Loading articles...
    </div>

    <div id="article-view">
      <div class="article-view-sticky-header">
        <div class="header-left">
          <!-- Back icon will be added by JS -->
        </div>
        <div class="header-center">
          <i id="share-article-icon" class="header-icon bi bi-share"></i>
          <!-- Share icon is now static -->
          <i
            id="favorite-article-icon"
            class="header-icon star-icon bi bi-star"
          ></i>
          <i
            id="delete-article-icon"
            class="header-icon delete-icon bi bi-trash"
          ></i>
        </div>
        <div class="header-right">
          <i class="header-icon bi bi-type"></i>
          <i class="header-icon bi bi-chevron-down"></i>
        </div>
      </div>

      <!-- Article Metadata - This is above the main content -->
      <div class="article-metadata">
        <h1 class="header-title"></h1>
        <p class="header-metadata"></p>
        <div class="header-url"></div>
      </div>

      <!-- Main Content Area - Padding applied here when sticky -->
      <div id="article-view-main-content" class="article-view-main-content">
        <!-- Article content will be loaded here by articles.js -->
      </div>
    </div>

    <script src="articles.js" type="module"></script>
  </body>
</html>
